import{j as e,R as y,a as d}from"./index-T_edayIv.js";const k=({topic:a,remainingMs:s,progress:t})=>{const c=Math.floor(s/6e4),o=Math.floor(s%6e4/1e3),x=Math.floor(s%1e3/10),f=`${String(c).padStart(2,"0")}:${String(o).padStart(2,"0")}.${String(x).padStart(2,"0")}`,h=t*360,p=2*Math.PI*230,g=p*(1-t),n=s<=0,i=s<=5e3,m=s<=15e3&&s>5e3;let r="#06b6d4";return n||i?r="#ef4444":m&&(r="#f59e0b"),e.jsxs("div",{className:"presenter-view",children:[e.jsx("div",{className:"presenter-topic",children:a}),e.jsxs("div",{className:`presenter-clock-container ${n||i?"glow":""}`,style:{color:r},children:[e.jsxs("svg",{className:"presenter-progress-ring",viewBox:"0 0 500 500",children:[e.jsx("defs",{children:e.jsxs("mask",{id:"pie-mask",children:[e.jsx("rect",{width:"500",height:"500",fill:"white"}),e.jsx("circle",{cx:"250",cy:"250",r:"245",fill:"black"}),t<1&&e.jsx("path",{d:`M 250 250 L 250 5 A 245 245 0 ${t>.5?1:0} 1 ${250+245*Math.sin(t*2*Math.PI)} ${250-245*Math.cos(t*2*Math.PI)} Z`,fill:"white"}),t>=1&&e.jsx("circle",{cx:"250",cy:"250",r:"245",fill:"white"})]})}),e.jsx("circle",{cx:"250",cy:"250",r:"245",fill:"#1a1a2a",className:"presenter-pie-background"}),e.jsx("circle",{cx:"250",cy:"250",r:"230",fill:"none",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"8",className:"presenter-ring-background"}),e.jsx("circle",{cx:"250",cy:"250",r:"230",fill:"none",stroke:r,strokeWidth:"8",strokeDasharray:p,strokeDashoffset:g,strokeLinecap:"round",className:"presenter-progress-stroke",style:{transform:"rotate(-90deg)",transformOrigin:"250px 250px",transition:"stroke 0.3s ease, stroke-dashoffset 0.1s linear"}}),e.jsx("circle",{cx:"250",cy:"250",r:"245",fill:r,mask:"url(#pie-mask)",className:"presenter-pie-fill",style:{transition:"fill 0.3s ease"}})]}),e.jsx("div",{className:"presenter-clock-face",children:e.jsxs("div",{className:"presenter-clock-bezel",children:[[...Array(60)].map((w,l)=>{const u=l%5===0;return e.jsx("div",{className:`presenter-marker ${u?"hour-marker":"minute-marker"}`,style:{transform:`rotate(${l*6}deg) translateY(-48%)`}},l)}),e.jsx("div",{className:`presenter-second-hand ${n||i?"glow":""}`,style:{transform:`rotate(${h}deg)`,backgroundColor:r}}),e.jsx("div",{className:`presenter-center-dot ${n||i?"glow":""}`,style:{backgroundColor:r}})]})}),e.jsx("div",{className:`presenter-time presenter-time-overlay ${n||i?"expired":m?"warning":""}`,style:{color:r},children:f})]})]})};document.body.style.overflow="hidden";document.body.style.margin="0";document.body.style.padding="0";document.documentElement.style.overflow="hidden";function j(){const[a,s]=d.useState({topic:"Loading...",remainingMs:0,progress:0,totalDuration:90});return d.useEffect(()=>{const t=c=>{if(c.data.type==="TIMER_UPDATE"){const o=c.data.payload;s({topic:o.topic,remainingMs:o.remainingMs,progress:o.progress,totalDuration:o.totalDuration})}};return window.addEventListener("message",t),window.opener&&window.opener.postMessage({type:"PRESENTER_READY"},"*"),()=>window.removeEventListener("message",t)},[]),e.jsx(k,{topic:a.topic,remainingMs:a.remainingMs,progress:a.progress,totalDuration:a.totalDuration})}y.createRoot(document.getElementById("presenter-root")).render(e.jsx(d.StrictMode,{children:e.jsx(j,{})}));
